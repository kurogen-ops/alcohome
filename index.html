<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ALCO HOME | Premium Store</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #c5a059;
            --gold-glow: rgba(197, 160, 89, 0.4);
            --dark-bg: #0d0d0d;
            --card-bg: #161616;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Montserrat', sans-serif !important; }
        body { margin: 0; background: var(--dark-bg); color: #fff; overflow-x: hidden; padding-bottom: 100px; touch-action: pan-y; }

        .top-bar { 
            position: sticky; top: 0; z-index: 1500;
            padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; 
            background: rgba(13, 13, 13, 0.95); backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(197, 160, 89, 0.2);
        }
        .btn-catalog-top { 
            background: rgba(197, 160, 89, 0.1); border: 1px solid var(--gold); color: var(--gold); 
            padding: 10px 15px; border-radius: 8px; font-size: 10px; font-weight: 800; 
            text-transform: uppercase; cursor: pointer; transition: 0.3s;
        }
        .btn-catalog-top:hover { background: rgba(197, 160, 89, 0.2); box-shadow: 0 0 10px var(--gold-glow); }
        .btn-catalog-top:active { background: var(--gold); color: #000; transform: scale(0.95); }

        #catalog-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.7);
            z-index: 2400; display: none; opacity: 0; transition: 0.4s;
            backdrop-filter: blur(4px);
        }
        #catalog-sidebar {
            position: fixed; top: 0; left: -280px; width: 280px; height: 100%;
            background: #111; z-index: 2401; padding: 30px 20px;
            border-right: 2px solid var(--gold);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex; flex-direction: column;
        }
        #catalog-sidebar.open { left: 0; }
        
        .sidebar-brand { text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid rgba(197,160,89,0.1); }
        .sidebar-brand img { width: 50px; border-radius: 50%; border: 1px solid var(--gold); margin-bottom: 10px; }
        .sidebar-brand div { color: var(--gold); font-size: 14px; font-weight: 800; letter-spacing: 3px; text-transform: uppercase; }

        .sidebar-header { color: #555; font-size: 10px; font-weight: 800; margin-bottom: 15px; letter-spacing: 2px; text-align: center; }
        .cat-list-wrapper { display: flex; flex-direction: column; gap: 8px; }
        
        .cat-item-side {
            background: #1a1a1a; padding: 16px; border-radius: 12px;
            text-align: left; border: 1px solid rgba(255,255,255,0.03);
            transition: 0.3s; cursor: pointer; display: flex; align-items: center;
        }
        .cat-item-side:hover { border-color: var(--gold); background: #1f1f1f; }
        .cat-item-side:active { transform: scale(0.95); background: #222; }
        .cat-item-side span { font-size: 12px; font-weight: 700; text-transform: uppercase; color: #888; letter-spacing: 1px; }

        .btn-back-side {
            margin-top: 20px; padding: 15px; border-radius: 12px;
            background: transparent; border: 1px dashed #444; color: #666;
            text-align: center; font-size: 11px; font-weight: 700; text-transform: uppercase;
            cursor: pointer; transition: 0.3s;
        }
        .btn-back-side:active { background: #222; color: #fff; border-color: #fff; }

        header { text-align: center; padding: 30px 0; }
        .header-logo img { width: 70px; border-radius: 50%; border: 1px solid var(--gold); }
        .header-logo h1 { color: var(--gold); letter-spacing: 6px; font-size: 18px; margin-top: 12px; text-transform: uppercase; }

        .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; padding: 0 15px; }
        .product-card { 
            background: var(--card-bg); padding: 15px; border-radius: 20px; 
            border: 1px solid rgba(255,255,255,0.05); transition: 0.3s ease;
            cursor: pointer;
        }
        .product-card:hover { border-color: var(--gold); box-shadow: 0 5px 20px rgba(197, 160, 89, 0.2); transform: translateY(-5px); }
        .product-card img { width: 100%; height: 130px; object-fit: contain; margin-bottom: 10px; pointer-events: none; }
        .product-card h3 { font-size: 11px; color: #efefef; height: 32px; overflow: hidden; margin: 0; pointer-events: none; }
        
        .add-action-box { 
            background: rgba(197, 160, 89, 0.1); border: 1px solid var(--gold); 
            border-radius: 10px; padding: 10px; text-align: center; margin-top: 10px; transition: 0.2s;
        }
        .add-action-box:hover { background: rgba(197, 160, 89, 0.25); }
        .add-action-box:active { background: var(--gold) !important; transform: scale(0.9); }
        .add-action-box:active span { color: #000 !important; }
        .add-action-box span { color: var(--gold); font-size: 10px; font-weight: 700; pointer-events: none; }

        .bottom-nav { 
            position: fixed; bottom: 0; width: 100%; 
            background: rgba(255, 255, 255, 0.03); 
            backdrop-filter: blur(25px); 
            -webkit-backdrop-filter: blur(25px);
            border-top: 1px solid rgba(255, 255, 255, 0.1); 
            display: flex; justify-content: space-around; 
            padding: 8px 10px 20px; z-index: 2000; 
        }
        .nav-btn { 
            flex: 1; height: 42px; display: flex; align-items: center; justify-content: center; 
            background: transparent; border-radius: 12px; transition: 0.2s; cursor: pointer;
        }
        .nav-btn:hover { background: rgba(255, 255, 255, 0.05); }
        .nav-btn img { width: 24px; height: 24px; object-fit: contain; }

        .checkout-bar { position: fixed; bottom: 85px; left: 50%; transform: translateX(-50%); background: #fff; color: #000; padding: 12px 30px; border-radius: 30px; font-weight: 900; font-size: 12px; z-index: 1001; display: none; box-shadow: 0 10px 30px rgba(0,0,0,0.5); cursor: pointer; transition: 0.2s; }

        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 3000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(10px); }
        .modal-content { background: #111; border: 1px solid var(--gold); padding: 25px; width: 90%; max-width: 400px; border-radius: 25px; }
        .btn-main { background: var(--gold); color: #000; border: none; padding: 15px; width: 100%; border-radius: 12px; font-weight: 800; margin-top: 20px; text-transform: uppercase; cursor: pointer; }
        .branch-option { background: #1a1a1a; padding: 15px; margin: 10px 0; border-radius: 12px; text-align: center; border: 1px solid transparent; transition: 0.2s; cursor: pointer; }
        .branch-option:hover { border-color: var(--gold); }

        .input-field { width: 100%; background: #222; border: 1px solid var(--gold); color: #fff; padding: 15px; border-radius: 12px; font-size: 14px; margin-top: 10px; outline: none; }
    </style>
</head>
<body>

<div class="top-bar">
    <button class="btn-catalog-top" onclick="toggleSidebar()">‚ò∞ –ö–∞—Ç–∞–ª–æ–≥</button>
    <div style="color: var(--gold); font-size: 10px; font-weight: 800; letter-spacing: 1px;">ALCO HOME</div>
</div>

<div id="catalog-overlay" onclick="toggleSidebar()"></div>
<div id="catalog-sidebar">
    <div class="sidebar-brand"><img src="alc.png" alt="Logo"><div>ALCO HOME</div></div>
    <div class="sidebar-header">–í–´–ë–ï–†–ò–¢–ï –ö–ê–¢–ï–ì–û–†–ò–Æ</div>
    <div class="cat-list-wrapper">
        <div class="cat-item-side" onclick="selectCategory('whisky')"><span>ü•É –í–∏—Å–∫–∏</span></div>
        <div class="cat-item-side" onclick="selectCategory('vodka')"><span>üç∏ –í–æ–¥–∫–∞</span></div>
        <div class="cat-item-side" onclick="selectCategory('cognac')"><span>üç∑ –ö–æ–Ω—å—è–∫</span></div>
        <div class="cat-item-side" onclick="selectCategory('draft')"><span>üç∫ –†–∞–∑–ª–∏–≤–Ω–æ–µ</span></div>
        <div class="cat-item-side" onclick="selectCategory('wine')"><span>üçæ –í–∏–Ω–æ</span></div>
        <div class="cat-item-side" onclick="selectCategory('beer')"><span>üç∫ –ò–º–ø–æ—Ä—Ç</span></div>
        <div class="cat-item-side" onclick="selectCategory('snacks')"><span>ü•® –ó–∞–∫—É—Å–∫–∏</span></div>
    </div>
    <div class="btn-back-side" onclick="toggleSidebar()">‚Üê –ù–∞–∑–∞–¥ –∫ –ø–æ–∫—É–ø–∫–∞–º</div>
</div>

<header>
    <div class="header-logo"><img src="alc.png" alt="Logo"><h1>ALCO HOME</h1></div>
</header>

<div id="home">
    <div style="text-align: center; color: var(--gold); font-size: 12px; font-weight: 700; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 2px;" id="current-cat-label">–í–∏—Å–∫–∏</div>
    <div class="grid" id="main-catalog"></div>
</div>

<div class="bottom-nav">
    <a href="https://instagram.com/alco_home_shymkent" class="nav-btn"><img src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Instagram_logo_2016.svg" alt="Insta"></a>
    <div class="nav-btn" onclick="openModal('address-modal')"><img src="https://img.icons8.com/ios-filled/50/c5a059/marker.png" alt="–ê–¥—Ä–µ—Å–∞"></div>
    <div class="nav-btn" onclick="openModal('support-modal')"><img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="Support"></div>
</div>

<div class="checkout-bar" id="checkout-bar" onclick="openModal('cart-modal')">–í–ê–® –ó–ê–ö–ê–ó (<span id="cart-count">0</span>)</div>

<div id="draft-modal" class="modal">
    <div class="modal-content">
        <h2 id="draft-title" style="color:var(--gold); font-size: 14px; text-align: center; text-transform: uppercase;">–°–∫–æ–ª—å–∫–æ –ª–∏—Ç—Ä–æ–≤?</h2>
        <input type="number" id="liter-input" class="input-field" placeholder="–ü—Ä–∏–º–µ—Ä: 1.5" step="0.5">
        <button class="btn-main" onclick="confirmDraftVolume()">–î–û–ë–ê–í–ò–¢–¨ –í –ö–û–†–ó–ò–ù–£</button>
        <button onclick="closeModal('draft-modal')" style="background:none; border:none; color:#444; width:100%; margin-top:15px; font-weight:700; cursor: pointer;">–û–¢–ú–ï–ù–ê</button>
    </div>
</div>

<div id="delivery-modal" class="modal">
    <div class="modal-content">
        <h2 style="color:var(--gold); font-size: 14px; text-align: center; text-transform: uppercase;">–ö—É–¥–∞ –¥–æ—Å—Ç–∞–≤–∏—Ç—å?</h2>
        <input type="text" id="delivery-address" class="input-field" placeholder="–£–ª–∏—Ü–∞, –¥–æ–º, –∫–≤ / –û—Ä–∏–µ–Ω—Ç–∏—Ä">
        <button class="btn-main" onclick="finalOrderSend()">–û–§–û–†–ú–ò–¢–¨ –í WHATSAPP</button>
        <button onclick="closeModal('delivery-modal')" style="background:none; border:none; color:#444; width:100%; margin-top:15px; font-weight:700; cursor: pointer;">–û–¢–ú–ï–ù–ê</button>
    </div>
</div>

<div id="address-modal" class="modal">
    <div class="modal-content">
        <h2 style="color:var(--gold); font-size: 16px; text-align: center; text-transform: uppercase; margin-bottom: 20px;">–ù–∞—à–∏ –º–∞—Ä–∫–µ—Ç—ã</h2>
        <div class="branch-option" onclick="window.open('https://go.2gis.com/Vk4ed')"><b style="color: #fff;">–§–ò–õ–ò–ê–õ ‚Ññ1</b><br><small style="color: var(--gold);">–º–∫—Ä. –ù—É—Ä—Å–∞—Ç 2, –¥–æ–º 50</small></div>
        <div class="branch-option" onclick="window.open('https://go.2gis.com/8m43i')"><b style="color: #fff;">–§–ò–õ–ò–ê–õ ‚Ññ2</b><br><small style="color: var(--gold);">17-–π –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω, –¥–æ–º 19</small></div>
        <button onclick="closeModal('address-modal')" style="background:none; border:none; color:#444; width:100%; margin-top:15px; font-weight:700; cursor: pointer;">–ó–ê–ö–†–´–¢–¨</button>
    </div>
</div>

<div id="support-modal" class="modal">
    <div class="modal-content">
        <h2 style="color:var(--gold); font-size: 16px; text-align: center;">–ù–£–ñ–ù–ê –ü–û–ú–û–©–¨?</h2>
        <div class="branch-option" onclick="window.open('https://wa.me/77479102650')"><b>–ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†</b><br><small>+7 747 910 26 50</small></div>
        <div class="branch-option" onclick="window.open('https://wa.me/77079814338')"><b>–û–ü–ï–†–ê–¢–û–†</b><br><small>+7 707 981 43 38</small></div>
        <button onclick="closeModal('support-modal')" style="background:none; border:none; color:#444; width:100%; margin-top:10px; cursor: pointer;">–ó–ê–ö–†–´–¢–¨</button>
    </div>
</div>

<div id="cart-modal" class="modal">
    <div class="modal-content">
        <h2 style="color:var(--gold); font-size: 16px; text-align: center; text-transform: uppercase;">–ú–æ–π –∑–∞–∫–∞–∑</h2>
        <div id="cart-items-list" style="max-height: 250px; overflow-y: auto;"></div>
        <button class="btn-main" onclick="openModal('branch-modal')">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
        <button onclick="closeModal('cart-modal')" style="background:none; border:none; color:#444; width:100%; margin-top:15px; font-weight:700; cursor: pointer;">–ó–ê–ö–†–´–¢–¨</button>
    </div>
</div>

<div id="branch-modal" class="modal">
    <div class="modal-content">
        <h2 style="color:var(--gold); font-size: 16px; text-align: center; text-transform: uppercase;">–ì–¥–µ –∑–∞–±–µ—Ä–µ—Ç–µ?</h2>
        <div class="branch-option" onclick="selectBranch('branch1')"><b>–§–ò–õ–ò–ê–õ ‚Ññ1</b><br><small>–ù—É—Ä—Å–∞—Ç 2-50</small></div>
        <div class="branch-option" onclick="selectBranch('branch2')"><b>–§–ò–õ–ò–ê–õ ‚Ññ2</b><br><small>17-–º–∫—Ä, 19</small></div>
        <button onclick="closeModal('branch-modal')" style="background:none; border:none; color:#444; width:100%; margin-top:10px; cursor: pointer;">–ù–ê–ó–ê–î</button>
    </div>
</div>

<script>
    const products = {
        whisky: [ {name: "Macallan 18Y", img: "m1.png"}, {name: "Blue Label", img: "b1.png"}, {name: "Chivas 18", img: "c1.png"} ],
        vodka: [ {name: "Beluga Gold", img: "bg.png"}, {name: "Grey Goose", img: "gg.png"} ],
        cognac: [ {name: "Hennessy XO", img: "hx.png"} ],
        draft: [ {name: "–ß–µ—à—Å–∫–æ–µ –°–≤–µ—Ç–ª–æ–µ", img: "d1.png"}, {name: "–ù–µ–º–µ—Ü–∫–æ–µ –ù–µ—Ñ–∏–ª—å—Ç—Ä.", img: "d2.png"} ],
        wine: [ {name: "Mo√´t Imperial", img: "mi.png"}, {name: "Kindzmarauli", img: "k1.png"} ],
        beer: [ {name: "Guinness", img: "g1.png"}, {name: "Corona Extra", img: "ce.png"} ],
        snacks: [ {name: "–°–µ—Ç –°—ã—Ä–æ–≤", img: "s1.png"}, {name: "–ú—è—Å–Ω–æ–µ –∞—Å—Å–æ—Ä—Ç–∏", img: "s2.png"} ]
    };

    let cart = [];
    let currentCategory = 'whisky';
    let tempDraftName = '';
    let selectedBranch = '';

    let touchStartX = 0;
    let touchEndX = 0;

    document.addEventListener('touchstart', e => {
        touchStartX = e.changedTouches[0].screenX;
    }, false);

    document.addEventListener('touchend', e => {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
    }, false);

    function handleSwipe() {
        const sidebar = document.getElementById('catalog-sidebar');
        const isOpen = sidebar.classList.contains('open');
        const swipeDistance = touchEndX - touchStartX;

        if (!isOpen && swipeDistance > 70 && touchStartX < 40) {
            toggleSidebar();
        }
        if (isOpen && swipeDistance < -70) {
            toggleSidebar();
        }
    }

    function toggleSidebar() {
        const sidebar = document.getElementById('catalog-sidebar');
        const overlay = document.getElementById('catalog-overlay');
        if(sidebar.classList.contains('open')) {
            sidebar.classList.remove('open');
            overlay.style.opacity = '0';
            setTimeout(() => overlay.style.display = 'none', 300);
        } else {
            overlay.style.display = 'block';
            setTimeout(() => { overlay.style.opacity = '1'; sidebar.classList.add('open'); }, 10);
        }
    }

    function selectCategory(type) {
        currentCategory = type;
        const labels = {whisky:'–í–∏—Å–∫–∏', vodka:'–í–æ–¥–∫–∞', cognac:'–ö–æ–Ω—å—è–∫', draft:'–†–∞–∑–ª–∏–≤–Ω–æ–µ', wine:'–í–∏–Ω–æ', beer:'–ò–º–ø–æ—Ä—Ç', snacks:'–ó–∞–∫—É—Å–∫–∏'};
        document.getElementById('current-cat-label').innerText = labels[type];
        showCategory(type);
        toggleSidebar();
        window.scrollTo({top: 0, behavior: 'smooth'});
    }

    function showCategory(type) {
        const list = document.getElementById('main-catalog');
        list.innerHTML = ''; 
        products[type].forEach(p => {
            list.innerHTML += `
                <div class="product-card" onclick="void(0)">
                    <img src="${p.img}" onerror="this.src='https://via.placeholder.com/150/111/c5a059?text=${p.name}'">
                    <h3>${p.name}</h3>
                    <div class="add-action-box" onclick="handleAddToCart('${p.name}'); event.stopPropagation();"><span>+ –í –∫–æ—Ä–∑–∏–Ω—É</span></div>
                </div>`;
        });
    }

    function handleAddToCart(name) {
        if(currentCategory === 'draft') {
            tempDraftName = name;
            document.getElementById('draft-title').innerText = name;
            document.getElementById('liter-input').value = "";
            openModal('draft-modal');
        } else {
            addToCart(name);
        }
    }

    function confirmDraftVolume() {
        const vol = document.getElementById('liter-input').value;
        if(vol > 0) {
            addToCart(`${tempDraftName} (${vol} –ª)`);
            closeModal('draft-modal');
        }
    }

    function addToCart(name) {
        cart.push(name);
        updateCartUI();
        if (navigator.vibrate) navigator.vibrate(40);
    }

    function updateCartUI() {
        document.getElementById('cart-count').innerText = cart.length;
        document.getElementById('checkout-bar').style.display = cart.length > 0 ? 'block' : 'none';
        const list = document.getElementById('cart-items-list');
        list.innerHTML = '';
        cart.forEach((item, i) => {
            list.innerHTML += `<div style="display:flex; justify-content:space-between; padding:10px 0; border-bottom:1px solid #222;"><span>${item}</span><span onclick="removeFromCart(${i})" style="color:#f44; cursor:pointer;">‚ùå</span></div>`;
        });
    }

    function removeFromCart(i) {
        cart.splice(i, 1);
        updateCartUI();
        if(cart.length === 0) closeModal('cart-modal');
    }

    function selectBranch(branch) {
        selectedBranch = branch;
        openModal('delivery-modal');
    }

    function finalOrderSend() {
        const addr = document.getElementById('delivery-address').value;
        if(!addr) { alert("–£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏"); return; }
        const nums = { branch1: "77780010770", branch2: "77080021092" };
        const text = `–ù–û–í–´–ô –ó–ê–ö–ê–ó:\n- ` + cart.join('\n- ') + `\n\nüìç –ê–î–†–ï–°: ${addr}`;
        window.open(`https://wa.me/${nums[selectedBranch]}?text=${encodeURIComponent(text)}`);
        closeModal('delivery-modal');
    }

    function openModal(id) { 
        document.querySelectorAll('.modal').forEach(m => m.style.display = 'none');
        document.getElementById(id).style.display = 'flex'; 
    }
    function closeModal(id) { document.getElementById(id).style.display = 'none'; }

    window.onload = () => showCategory('whisky');
</script>
</body>
</html>
